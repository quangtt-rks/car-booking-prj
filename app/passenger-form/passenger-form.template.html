<h1>Booking a bus</h1>
<form novalidate class="simple-form" ng-submit="$ctrl.book()">
    <p>
        <label>Name:</label> <span>{{$ctrl.passengerName}}</span>
    </p>
    <p>
        <label>Phone number:</label> <span>{{$ctrl.passengerPhone}}</span>
    </p>
    <p>
        <label>Select a route:</label>
        <select ng-model="$ctrl.route">
            <option ng-repeat="route in $ctrl.busData.routes" value="{{route}}">{{route}}</option>
        </select>
    </p>
    <p>
        <label>Select a pickup time:</label>
        <select ng-model="$ctrl.pickupTime">
            <option ng-repeat="pt in $ctrl.busData.pickupTime" value="{{pt}}">{{pt}}</option>
        </select>
    </p>
    <p>
        <label>Select a time slot:</label>
        <select ng-model="$ctrl.timeSlot">
            <option ng-repeat="ts in $ctrl.busData.timeSlot" value="{{ts}}">{{ts}}</option>
        </select>
    </p>
    <p>
        <label>Select a pickup place:</label>
        <select ng-model="$ctrl.pickupPlace">
            <option ng-repeat="pp in $ctrl.busData.pickupPlace" value="{{pp}}">{{pp}}</option>
        </select>
    </p>
    <p>
        <label>Select a drop place:</label>
        <select ng-model="$ctrl.dropPlace">
            <option ng-repeat="dp in $ctrl.busData.dropPlace" value="{{dp}}">{{dp}}</option>
        </select>
    </p>
    <p>
        <input type="submit" id="btnBook" value="Booooook!" />
    </p>
</form>

<div id="receiptModal" class="modal">
    <div class="modal-content">
        <h2>Receipt</h2>
        <p><label>Customer name:</label> {{$ctrl.passengerName}}</p>
        <p><label>Customer phone number:</label> {{$ctrl.passengerPhone}}</p>
        <p><label>Bus route:</label> {{$ctrl.route}}</p>
        <p><label>Pickup time:</label> {{$ctrl.pickupTime}}</p>
        <p><label>Time slot:</label> {{$ctrl.timeSlot}}</p>
        <p><label>Pickup place:</label> {{$ctrl.pickupPlace}}</p>
        <p><label>Drop place:</label> {{$ctrl.dropPlace}}</p>
        <p>
            <img src="{{$ctrl.qrcode}}" width="150" />
        </p>

        <h3>Thank you!</h3>
      <button class="receiptModalClose">OKAY</button>
    </div>
</div>

<script>
// Get the modal
var modal = document.getElementById("receiptModal");

// Get the button that opens the modal
var btn = document.getElementById("btnBook");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("receiptModalClose")[0];

// When the user clicks on the button, open the modal
// btn.onclick = function() {
//   modal.style.display = "block";
// }

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
</script>